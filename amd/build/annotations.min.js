define(["jquery","jqueryui","core/config","core/str","core/notification"],function(a,b,c,d,e){"use strict";function f(){console.log(i)}function g(b){console.log(b),d.get_string("view","block_annotations").done(function(a){j=a}).fail(e.exception),d.get_string("save").done(function(a){k=a}).fail(k="Save"),d.get_string("cancel").done(function(a){l=a}).fail(l="Cancel"),d.get_string("close").done(function(a){m=a}).fail(m="close"),a("body").append('<div id="block_annotations-addform" title="Create annotation"><form><fieldset><label for="annotation">Annotation</label><textarea name="annotation" id="annotation-textarea" class="text ui-widget-content ui-corner-all" style="width: 300px; height: 150px;"></textarea><input type="submit" tabindex="-1" style="position:absolute; top:-1000px"></fieldset></form></div>'),h=a("#block_annotations-addform").dialog({autoOpen:!1,height:400,width:350,modal:!0,buttons:[{text:k,click:f},{text:l,click:function(){h.dialog("close")}}],close:function(){h.find("form")[0].reset()}}),a("ul.section li.activity > div").each(function(){a(this).append('<div class="annotations"><span data-object-type="course_modules" data-object-id="'+a(this).attr("id")+'" class="btn">'+j+"</span></div>")}),a('li.section[id^="section-"]').each(function(){a(this).prepend('<div class="annotations"><span data-object-type="course_sections" data-object-id="'+a(this).attr("id")+'" data-object-course="TODO" class="btn">'+j+"</span></div>")}),a(".annotations span.btn").click(function(){h.dialog("open"),console.log(a(this).attr("data-href"))})}var h,i=c.wwwroot+"/block/annotations/test.php",j="",k="",l="",m="";return{init:g}});