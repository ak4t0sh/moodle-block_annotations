define(["jquery","core/str","core/modal_factory","core/notification"],function(a,b,c,d){var e,f="add or update my annotation",g="edit",h="cancel",i="view",j="add";return{add:function(d,f,g){var h="",i=f+"_"+g,j=b.add;i in e&&(h='data-id="'+e[i].id+'"',j=b.view),d.append('<div class="annotations"><span data-objecttype="'+f+'" data-objectid="'+g+'" '+h+' class="btn">'+j+"</span></div>");var k=a('.annotations span.btn[data-objecttype="'+f+'"][data-objectid="'+g+'"]'),l="";"undefined"!=typeof e[i]&&(l=e[i].text),c.create({type:c.types.SAVE_CANCEL,title:b.dialog_title,body:"<p>"+l+"</p>"},k).done(function(a){})},init:function(a,c){e=a,b.get_strings([{key:"add"},{key:"view"},{key:"edit"},{key:"cancel"},{key:"dialog_title",component:"block_annotations"}]).done(function(a){j=a[0],i=a[1],g=a[2],h=a[3],f=a[4]})},run:function(){}}});